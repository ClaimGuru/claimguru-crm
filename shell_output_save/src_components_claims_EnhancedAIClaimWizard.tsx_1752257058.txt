// Import enhanced AI wizard step components
import { EnhancedPolicyUploadStep } from './wizard-steps/EnhancedPolicyUploadStep'
import { EnhancedClientDetailsStep } from './wizard-steps/EnhancedClientDetailsStep'
import { EnhancedInsuranceInfoStep } from './wizard-steps/EnhancedInsuranceInfoStep'
import { ClaimInformationStep } from './wizard-steps/ClaimInformationStep'
import { PersonalPropertyStep } from './wizard-steps/PersonalPropertyStep'
import { ExpertsProvidersStep } from './wizard-steps/ExpertsProvidersStep'
import { MortgageInformationStep } from './wizard-steps/MortgageInformationStep'
import { ReferralInformationStep } from './wizard-steps/ReferralInformationStep'
import { ContractInformationStep } from './wizard-steps/ContractInformationStep'
import { PersonnelAssignmentStep } from './wizard-steps/PersonnelAssignmentStep'
import { OfficeTasksStep } from './wizard-steps/OfficeTasksStep'
import { CoverageIssueReviewStep } from './wizard-steps/CoverageIssueReviewStep'
import { CompletionStep } from './wizard-steps/CompletionStep'
import CustomFieldsStep from './wizard-steps/CustomFieldsStep'

interface EnhancedAIIntakeWizardProps {
  clientId?: string
  onComplete?: (claimData: any) => void
  onCancel?: () => void
}

interface WizardData {
  clientType: string
  isOrganization: boolean
  insuredDetails: {
    firstName?: string
    lastName?: string
    organizationName?: string
    phone?: string
    email?: string
--
  const renderStepComponent = () => {
    const currentStepData = steps[currentStep]
    const StepComponent = currentStepData.component
    const commonProps = {
      data: wizardData,
      onUpdate: updateWizardData,
      onAIProcessing: handleAIProcessing,
      clientId: clientId
    }
    
    const stepProps = currentStepData.id === 'completion' 
      ? { ...commonProps, onSubmit: handleComplete }
      : commonProps
    
    return <StepComponent {...stepProps} />
  }

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[95vh] overflow-hidden">
        {/* Header */}
        <div className="border-b border-gray-200 p-6 bg-gradient-to-r from-purple-600 to-blue-600 text-white">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <Brain className="h-8 w-8" />
              <div>
                <h2 className="text-2xl font-bold">AI-Enhanced Claim Wizard</h2>
                <p className="text-purple-100">Intelligent claim processing with advanced AI assistance</p>
              </div>
            </div>
            <div className="flex items-center gap-4">
              {isAIProcessing && (
                <div className="flex items-center gap-2 text-purple-100">
                  <Sparkles className="h-5 w-5 animate-pulse" />
                  <span className="text-sm">AI Processing...</span>
                </div>
              )}
              <Button
                onClick={onCancel}
                variant="outline"
                className="text-white border-white hover:bg-white hover:text-purple-600"
              >
                <X className="h-4 w-4" />
              </Button>
            </div>
--
          {renderStepComponent()}
        </div>

        {/* Footer Navigation */}
        <div className="border-t border-gray-200 p-6 bg-gray-50">
          <div className="flex justify-between items-center">
            <Button
              onClick={prevStep}
              disabled={currentStep === 0}
              variant="outline"
              className="flex items-center gap-2"
            >
              <ChevronLeft className="h-4 w-4" />
              Previous
            </Button>

            <div className="flex items-center gap-2">
              {stepValidation[steps[currentStep].id]?.errors && (
                <div className="text-sm text-red-600 mr-4">
                  {stepValidation[steps[currentStep].id].errors.join(', ')}
                </div>
              )}
              
              {currentStep === steps.length - 1 ? (
                <Button
                  onClick={() => handleComplete()}
                  disabled={isAIProcessing}
                  className="flex items-center gap-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700"
                >
                  <CheckCircle className="h-4 w-4" />
                  Complete Claim
